"use strict";Object.defineProperty(exports, "__esModule", {value: true});var _chunkPXDN3KFOjs = require('../chunk-PXDN3KFO.js');function u(s){return(s==null?void 0:s.status)&&[401].includes(s.status)}function a(s,r){let f=(r==null?void 0:r.shouldRefresh)||u,o=!1,i=[];s.interceptors.response.use(e=>_chunkPXDN3KFOjs.d.call(void 0, this,null,function*(){return e}),e=>_chunkPXDN3KFOjs.d.call(void 0, this,null,function*(){if(e!=null&&e.response&&f(e.response))if(o)yield new Promise(t=>{i.push(t)});else{o=!0;try{yield r.refreshToken(e)}finally{o=!1,i.forEach(t=>t())}}return Promise.reject(e)}))}exports.default = a; exports.defaultShouldRefresh = u;
