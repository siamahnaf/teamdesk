import{d as n}from"../chunk-BOVQDIMN.mjs";function u(s){return(s==null?void 0:s.status)&&[401].includes(s.status)}function a(s,r){let f=(r==null?void 0:r.shouldRefresh)||u,o=!1,i=[];s.interceptors.response.use(e=>n(this,null,function*(){return e}),e=>n(this,null,function*(){if(e!=null&&e.response&&f(e.response))if(o)yield new Promise(t=>{i.push(t)});else{o=!0;try{yield r.refreshToken(e)}finally{o=!1,i.forEach(t=>t())}}return Promise.reject(e)}))}export{a as default,u as defaultShouldRefresh};
